{{template "layout.html" .}}

{{define "title"}}Logs: {{.Name}} - k8s-ui{{end}}

{{define "content"}}
<div style="margin-bottom: 1rem;">
    <a href="/pods/{{.Name}}">← Back to Pod</a>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">Logs: {{.Name}} {{if .Container}}({{.Container}}){{end}}</h2>
        <div class="actions">
            <form method="GET" style="display: flex; gap: 0.5rem; align-items: center;">
                {{if gt (len .Containers) 1}}
                <select name="container" style="padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.3); color: white;" onchange="this.form.submit()">
                    {{range .Containers}}
                    <option value="{{.}}" {{if eq . $.Container}}selected{{end}}>{{.}}</option>
                    {{end}}
                </select>
                {{else}}
                <input type="hidden" name="container" value="{{.Container}}">
                {{end}}
                <input type="number" name="tailLines" value="{{.TailLines}}" style="width: 80px;" title="Tail Lines">
                <label style="display: flex; align-items: center; gap: 0.25rem; font-size: 0.875rem;">
                    <input type="checkbox" name="follow" value="1" {{if .Follow}}checked{{end}}> Follow
                </label>
                <button type="submit" class="btn btn-primary btn-sm">Refresh</button>
            </form>
            <a href="/pods/{{.Name}}/logs/download?container={{.Container}}" class="btn btn-sm" style="background: rgba(255,255,255,0.1);" title="Download full logs">⬇ Download</a>
        </div>
    </div>
    <div style="padding: 0;">
        <pre style="border-radius: 0; max-height: 80vh; overflow-y: auto;">{{.Logs}}</pre>
    </div>
</div>
{{end}}
